"use strict";import{firstFocusableIn as p,firstFocusableSlottedIn as u}from"@spectrum-web-components/shared/src/first-focusable-in.js";import{VirtualTrigger as d}from"./VirtualTrigger.js";import{BeforetoggleClosedEvent as f,BeforetoggleOpenEvent as v,forcePaint as h,guaranteedAllTransitionend as b,overlayTimer as i}from"./AbstractOverlay.js";import{userFocusableSelector as E}from"@spectrum-web-components/shared";export function OverlayNoPopover(l){class a extends l{async managePopoverOpen(){await this.managePosition()}async manageDelay(e){if(e===!1||e!==this.open){i.close(this);return}this.delayed&&await i.openTimer(this)&&(this.open=!e)}async ensureOnDOM(e){h()}async makeTransition(e){if(this.open!==e)return null;let o=null;const c=(t,n)=>()=>{if(e!==this.open)return;if(typeof t.open!="undefined"&&(t.open=e),n===0){const r=e?v:f;this.dispatchEvent(new r)}if(e!==!0||(t.matches(E)&&(o=t),o=o||p(t),o))return;t.querySelectorAll("slot").forEach(r=>{o||(o=u(r))})},m=(t,n)=>()=>{if(this.open!==e)return;const s=e?"sp-opened":"sp-closed";if(t.dispatchEvent(new CustomEvent(s,{bubbles:!1,composed:!1,detail:{interaction:this.type}})),n>0)return;const r=this.triggerElement instanceof d;this.dispatchEvent(new Event(s,{bubbles:r,composed:r})),this.triggerElement&&!r&&this.triggerElement.dispatchEvent(new CustomEvent(s,{bubbles:!0,composed:!0,detail:{interaction:this.type}})),this.state=e?"opened":"closed"};return this.elements.forEach((t,n)=>{b(t,c(t,n),m(t,n))}),o}}return a}
//# sourceMappingURL=OverlayNoPopover.js.map
