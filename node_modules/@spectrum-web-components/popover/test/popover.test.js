"use strict";
import "@spectrum-web-components/popover/sp-popover.js";
import { elementUpdated, expect, fixture, html } from "@open-wc/testing";
describe("popover", () => {
  let popover;
  beforeEach(async () => {
    popover = await fixture(
      html`
                <sp-popover variant="dialog" placement="top" open>
                    <div id="title">Popover Title</div>
                    <div id="content">
                        Cupcake ipsum dolor sit amet jelly beans. Chocolate
                        jelly caramels. Icing soufflé chupa chups donut
                        cheesecake. Jelly-o chocolate cake sweet roll cake
                        danish candy biscuit halvah
                    </div>
                </sp-popover>
            `
    );
    await elementUpdated(popover);
  });
  it("loads", async () => {
    expect(popover).to.not.equal(void 0);
    expect(popover.textContent).to.include("Popover Title");
    await expect(popover).to.be.accessible();
  });
  it("tip exists only when tip attribute is true", async () => {
    if (!popover.shadowRoot)
      throw new Error("No shadowRoot");
    expect(popover.getAttribute("tip")).to.equal(null);
    let tip = popover.shadowRoot.querySelector("tip");
    expect(tip).to.equal(null);
    popover.setAttribute("tip", "true");
    tip = popover.shadowRoot.querySelector("tip");
    expect(tip).to.not.equal(void 0);
  });
  it("answers tip query", async () => {
    const el = await fixture(
      html`
                <sp-popover variant="dialog" placement="top" tip open>
                    <div id="title">Popover Title</div>
                    <div id="content">
                        Cupcake ipsum dolor sit amet jelly beans. Chocolate
                        jelly caramels. Icing soufflé chupa chups donut
                        cheesecake. Jelly-o chocolate cake sweet roll cake
                        danish candy biscuit halvah
                    </div>
                </sp-popover>
            `
    );
    await elementUpdated(el);
    const overlayDetailQuery = {};
    const queryOverlayDetailEvent = new CustomEvent("sp-overlay-query", {
      bubbles: true,
      composed: true,
      detail: overlayDetailQuery,
      cancelable: true
    });
    el.dispatchEvent(queryOverlayDetailEvent);
    expect(overlayDetailQuery.overlayContentTipElement).to.exist;
    if (overlayDetailQuery.overlayContentTipElement) {
      expect(overlayDetailQuery.overlayContentTipElement.id).to.equal(
        "tip"
      );
    }
  });
});
//# sourceMappingURL=popover.test.js.map
