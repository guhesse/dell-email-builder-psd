"use strict";import{getContainingBlock as g,getWindow as p,isContainingBlock as h}from"@floating-ui/utils/dom";import{VirtualTrigger as w}from"./VirtualTrigger.js";export const topLayerOverTransforms=()=>({name:"topLayer",async fn(m){const{x:i,y:s,elements:{reference:c,floating:a}}=m;let e=!1,d=!1,l=!1;const o={x:0,y:0};try{e=e||a.matches(":popover-open")}catch(n){}try{e=e||a.matches(":open")}catch(n){}try{e=e||a.matches(":modal")}catch(n){}d=e;const y=new Event("floating-ui-dialog-test",{composed:!0,bubbles:!0});a.addEventListener("floating-ui-dialog-test",n=>{n.composedPath().forEach(t=>{if(l=l||t===c,!(t===a||t.localName!=="dialog"))try{e=e||t.matches(":modal")}catch(r){}})},{once:!0}),a.dispatchEvent(y);let f=!1;if(!(c instanceof w)){const n=l?c:a,t=h(n)?n:g(n);if(t!==null&&p(t)!==t){const r=getComputedStyle(t);f=r.transform!=="none"||(r.filter?r.filter!=="none":!1)||["paint","layout","strict","content"].some(u=>(r.contain||"").includes(u))}if(e&&f&&t){const r=t.getBoundingClientRect();o.x=r.x,o.y=r.y}}return e&&d?{x:i+o.x,y:s+o.y,data:o}:e?{x:i,y:s,data:o}:{x:i-o.x,y:s-o.y,data:o}}});
//# sourceMappingURL=topLayerOverTransforms.js.map
