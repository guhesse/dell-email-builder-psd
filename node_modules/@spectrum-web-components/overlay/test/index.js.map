{
  "version": 3,
  "sources": ["index.ts"],
  "sourcesContent": ["/*\nCopyright 2020 Adobe. All rights reserved.\nThis file is licensed to you under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License. You may obtain a copy\nof the License at http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software distributed under\nthe License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\nOF ANY KIND, either express or implied. See the License for the specific language\ngoverning permissions and limitations under the License.\n*/\n\nimport { escapeEvent, isVisible } from '../../../test/testing-helpers.js';\nimport {\n    aTimeout,\n    elementUpdated,\n    expect,\n    fixture,\n    html,\n    nextFrame,\n    oneEvent,\n    waitUntil,\n} from '@open-wc/testing';\n\nimport {\n    ActiveOverlay,\n    OverlayTrigger,\n    TriggerInteractions,\n} from '@spectrum-web-components/overlay';\nimport '@spectrum-web-components/button/sp-button.js';\nimport { Button } from '@spectrum-web-components/button';\nimport '@spectrum-web-components/popover/sp-popover.js';\nimport { Popover } from '@spectrum-web-components/popover';\nimport '@spectrum-web-components/theme/sp-theme.js';\nimport { Theme } from '@spectrum-web-components/theme';\n\nfunction pressKey(code: string): void {\n    const up = new KeyboardEvent('keyup', {\n        bubbles: true,\n        cancelable: true,\n        key: code,\n        code,\n    });\n    document.dispatchEvent(up);\n}\n\nconst pressEscape = (): void => {\n    document.dispatchEvent(escapeEvent());\n};\n\nconst pressSpace = (): void => pressKey('Space');\n\nexport const runOverlayTriggerTests = (): void => {\n    describe('Overlay Trigger - sync', () => {\n        describe('open/close', () => {\n            let testDiv!: HTMLDivElement;\n            let innerTrigger!: OverlayTrigger;\n            let outerTrigger!: OverlayTrigger;\n            let innerButton!: Button;\n            let outerButton!: Button;\n            let innerClickContent!: Popover;\n            let outerClickContent!: Popover;\n            let hoverContent!: HTMLDivElement;\n\n            beforeEach(async () => {\n                testDiv = await fixture<HTMLDivElement>(\n                    html`\n                        <div>\n                            <style>\n                                body {\n                                    display: flex;\n                                    align-items: center;\n                                    justify-content: center;\n                                }\n                            </style>\n                            <overlay-trigger id=\"trigger\" placement=\"top\">\n                                <sp-button\n                                    id=\"outer-button\"\n                                    variant=\"primary\"\n                                    slot=\"trigger\"\n                                >\n                                    Show Popover\n                                </sp-button>\n                                <sp-popover\n                                    id=\"outer-popover\"\n                                    dialog\n                                    slot=\"click-content\"\n                                    direction=\"bottom\"\n                                    tip\n                                    open\n                                    tabindex=\"0\"\n                                >\n                                    <div class=\"options-popover-content\">\n                                        <overlay-trigger\n                                            id=\"inner-trigger\"\n                                            placement=\"bottom\"\n                                        >\n                                            <sp-button\n                                                id=\"inner-button\"\n                                                slot=\"trigger\"\n                                            >\n                                                Press Me\n                                            </sp-button>\n                                            <sp-popover\n                                                id=\"inner-popover\"\n                                                dialog\n                                                slot=\"click-content\"\n                                                direction=\"bottom\"\n                                                tip\n                                                open\n                                                tabindex=\"0\"\n                                            >\n                                                <div\n                                                    class=\"options-popover-content\"\n                                                >\n                                                    Another Popover\n                                                </div>\n                                            </sp-popover>\n                                        </overlay-trigger>\n                                    </div>\n                                </sp-popover>\n                                <div\n                                    id=\"hover-content\"\n                                    slot=\"hover-content\"\n                                    class=\"tooltip\"\n                                    delay=\"100\"\n                                >\n                                    Tooltip\n                                </div>\n                            </overlay-trigger>\n                        </div>\n                    `\n                );\n\n                innerTrigger = testDiv.querySelector(\n                    '#inner-trigger'\n                ) as OverlayTrigger;\n                outerTrigger = testDiv.querySelector(\n                    '#trigger'\n                ) as OverlayTrigger;\n                innerButton = testDiv.querySelector('#inner-button') as Button;\n                outerButton = testDiv.querySelector('#outer-button') as Button;\n                innerClickContent = testDiv.querySelector(\n                    '#inner-popover'\n                ) as Popover;\n                outerClickContent = testDiv.querySelector(\n                    '#outer-popover'\n                ) as Popover;\n                hoverContent = testDiv.querySelector(\n                    '#hover-content'\n                ) as HTMLDivElement;\n            });\n\n            afterEach(async () => {\n                if (outerTrigger.open) {\n                    const closed = oneEvent(outerTrigger, 'sp-closed');\n                    outerTrigger.open = undefined;\n                    await closed;\n                }\n                outerTrigger.removeAttribute('type');\n                if (innerTrigger.open) {\n                    const closed = oneEvent(innerTrigger, 'sp-closed');\n                    innerTrigger.open = undefined;\n                    await closed;\n                }\n                innerTrigger.removeAttribute('type');\n            });\n\n            it('loads', async () => {\n                if (!(outerClickContent instanceof Popover))\n                    throw new Error('popover is not an instance of Popover');\n\n                expect(outerClickContent).to.exist;\n                expect(outerClickContent.shadowRoot).to.exist;\n                expect(outerClickContent.parentElement).to.be.an.instanceOf(\n                    OverlayTrigger\n                );\n            });\n\n            it('opens a popover', async () => {\n                expect(isVisible(outerClickContent)).to.be.false;\n\n                expect(outerButton).to.exist;\n                const open = oneEvent(outerTrigger, 'sp-opened');\n                outerButton.click();\n                await open;\n                expect(outerClickContent.parentElement).to.not.be.an.instanceOf(\n                    OverlayTrigger\n                );\n                expect(isVisible(outerClickContent)).to.be.true;\n            });\n\n            it('[disabled] closes a popover', async () => {\n                expect(isVisible(outerClickContent)).to.be.false;\n                expect(outerTrigger.disabled).to.be.false;\n\n                expect(outerButton).to.exist;\n\n                const opened = oneEvent(outerButton, 'sp-opened');\n                outerButton.click();\n                await opened;\n\n                expect(outerClickContent.parentElement).to.not.be.an.instanceOf(\n                    OverlayTrigger\n                );\n                expect(isVisible(outerClickContent)).to.be.true;\n\n                const closed = oneEvent(outerButton, 'sp-closed');\n                outerTrigger.disabled = true;\n                await closed;\n\n                expect(isVisible(outerClickContent)).to.be.false;\n                expect(outerTrigger.disabled).to.be.true;\n            });\n\n            it('resizes a popover', async () => {\n                expect(isVisible(outerClickContent)).to.be.false;\n\n                expect(outerButton).to.exist;\n                const open = oneEvent(outerTrigger, 'sp-opened');\n                outerButton.click();\n                await open;\n\n                expect(outerClickContent.parentElement).to.not.be.an.instanceOf(\n                    OverlayTrigger\n                );\n                expect(isVisible(outerClickContent)).to.be.true;\n\n                window.dispatchEvent(new Event('resize'));\n                window.dispatchEvent(new Event('resize'));\n\n                expect(outerClickContent.parentElement).to.not.be.an.instanceOf(\n                    OverlayTrigger\n                );\n                expect(isVisible(outerClickContent)).to.be.true;\n            });\n\n            ['modal', 'replace', 'inline'].map((type: string) => {\n                it(`opens a popover - [type=\"${type}\"]`, async () => {\n                    outerTrigger.type = type as Extract<\n                        TriggerInteractions,\n                        'inline' | 'modal' | 'replace'\n                    >;\n                    await elementUpdated(outerTrigger);\n\n                    expect(isVisible(outerClickContent)).to.be.false;\n\n                    expect(outerButton).to.exist;\n                    const opened = oneEvent(outerTrigger, 'sp-opened');\n                    outerButton.click();\n                    await opened;\n\n                    expect(\n                        outerClickContent.parentElement\n                    ).to.not.be.an.instanceOf(OverlayTrigger);\n                    expect(isVisible(outerClickContent)).to.be.true;\n                });\n            });\n\n            it('does not open a hover popover when a click popover is open', async () => {\n                expect(\n                    isVisible(outerClickContent),\n                    'outer popover not visible'\n                ).to.be.false;\n                expect(isVisible(hoverContent), 'hover popover not visible').to\n                    .be.false;\n\n                expect(outerButton).to.exist;\n                const open = oneEvent(outerTrigger, 'sp-opened');\n                outerButton.click();\n                await open;\n\n                expect(outerClickContent.parentElement).to.not.be.an.instanceOf(\n                    OverlayTrigger\n                );\n                expect(isVisible(outerClickContent), 'outer popover visible').to\n                    .be.true;\n                expect(\n                    isVisible(hoverContent),\n                    'hover popover still not visible'\n                ).to.be.false;\n\n                outerButton.dispatchEvent(\n                    new Event('mouseenter', {\n                        bubbles: true,\n                        composed: true,\n                    })\n                );\n\n                await nextFrame();\n                expect(hoverContent.parentElement).to.be.instanceOf(\n                    OverlayTrigger\n                );\n\n                expect(\n                    isVisible(outerClickContent),\n                    'outer popover visible again'\n                ).to.be.true;\n                expect(\n                    isVisible(hoverContent),\n                    'hover popover not visible again'\n                ).to.be.false;\n            });\n\n            it('does not open a popover when [disabled]', async () => {\n                const root = outerTrigger.shadowRoot\n                    ? outerTrigger.shadowRoot\n                    : outerTrigger;\n                const triggerZone = root.querySelector(\n                    '#trigger'\n                ) as HTMLDivElement;\n\n                expect(outerTrigger.disabled).to.be.false;\n                let open = oneEvent(outerTrigger, 'sp-opened');\n                outerButton.click();\n                await open;\n                expect(outerClickContent.parentElement?.localName).to.equal(\n                    'active-overlay'\n                );\n                let closed = oneEvent(outerTrigger, 'sp-closed');\n                document.body.click();\n                await closed;\n                expect(outerClickContent.parentElement?.localName).to.equal(\n                    'overlay-trigger'\n                );\n\n                outerTrigger.disabled = true;\n                await elementUpdated(outerTrigger);\n\n                expect(outerTrigger.disabled).to.be.true;\n                expect(outerTrigger.hasAttribute('disabled')).to.be.true;\n                // The overlay shouldn't open here.\n                outerButton.click();\n                await aTimeout(200);\n                expect(outerClickContent.parentElement?.localName).to.equal(\n                    'overlay-trigger'\n                );\n                // The overlay shouldn't open here, either.\n                triggerZone.dispatchEvent(new Event('mouseenter'));\n                await aTimeout(200);\n                expect(outerClickContent.parentElement?.localName).to.equal(\n                    'overlay-trigger'\n                );\n\n                outerTrigger.disabled = false;\n                await elementUpdated(outerTrigger);\n\n                expect(outerTrigger.disabled).to.be.false;\n                expect(outerTrigger.hasAttribute('disabled')).to.be.false;\n                open = oneEvent(outerTrigger, 'sp-opened');\n                outerButton.click();\n                await open;\n                expect(outerClickContent.parentElement?.localName).to.equal(\n                    'active-overlay'\n                );\n                closed = oneEvent(outerTrigger, 'sp-closed');\n                outerButton.click();\n                await closed;\n                expect(outerClickContent.parentElement?.localName).to.equal(\n                    'overlay-trigger'\n                );\n            });\n\n            it('opens a nested popover', async () => {\n                expect(isVisible(outerClickContent)).to.be.false;\n                expect(isVisible(innerClickContent)).to.be.false;\n\n                expect(outerButton).to.exist;\n                let open = oneEvent(outerTrigger, 'sp-opened');\n                outerButton.click();\n                await open;\n\n                expect(outerClickContent.parentElement).to.not.be.an.instanceOf(\n                    OverlayTrigger\n                );\n                expect(isVisible(outerClickContent)).to.be.true;\n                expect(isVisible(innerClickContent)).to.be.false;\n\n                open = oneEvent(innerTrigger, 'sp-opened');\n                innerButton.click();\n                await open;\n                expect(innerClickContent.parentElement).to.not.be.instanceOf(\n                    OverlayTrigger\n                );\n\n                expect(isVisible(outerClickContent)).to.be.true;\n                expect(isVisible(innerClickContent)).to.be.true;\n            });\n\n            it('focus previous \"modal\" when closing nested \"modal\"', async () => {\n                outerTrigger.type = 'modal';\n                innerTrigger.type = 'modal';\n\n                expect(\n                    isVisible(outerClickContent),\n                    'outer popover starts closed'\n                ).to.be.false;\n                expect(\n                    isVisible(innerClickContent),\n                    'inner popover starts closed'\n                ).to.be.false;\n\n                expect(outerButton).to.exist;\n                const outerOpen = oneEvent(outerButton, 'sp-opened');\n                outerButton.click();\n                await outerOpen;\n\n                expect(outerClickContent.parentElement).to.not.be.an.instanceOf(\n                    OverlayTrigger\n                );\n                expect(isVisible(outerClickContent), 'outer popover opens').to\n                    .be.true;\n                expect(\n                    isVisible(innerClickContent),\n                    'inner popover stays closed'\n                ).to.be.false;\n\n                const innerOpen = oneEvent(innerButton, 'sp-opened');\n                innerButton.click();\n                await innerOpen;\n                expect(innerClickContent.parentElement).to.not.be.instanceOf(\n                    OverlayTrigger\n                );\n\n                expect(isVisible(outerClickContent), 'outer popover stays open')\n                    .to.be.true;\n                expect(isVisible(innerClickContent), 'inner popover opens').to\n                    .be.true;\n\n                const innerClose = oneEvent(innerButton, 'sp-closed');\n                pressEscape();\n                await innerClose;\n                expect(innerClickContent.parentElement).to.be.instanceOf(\n                    OverlayTrigger\n                );\n\n                expect(\n                    document.activeElement === innerButton,\n                    'outer popover recieved focus'\n                ).to.be.true;\n            });\n\n            it('escape closes an open popover', async () => {\n                outerTrigger.type = 'modal';\n                innerTrigger.type = 'modal';\n                const outerOpen = oneEvent(outerButton, 'sp-opened');\n                outerButton.click();\n                await outerOpen;\n\n                expect(\n                    outerClickContent.parentElement instanceof OverlayTrigger,\n                    'outer content stolen and reparented'\n                ).to.be.false;\n\n                const innerOpen = oneEvent(innerButton, 'sp-opened');\n                innerButton.click();\n                await innerOpen;\n\n                expect(\n                    innerClickContent.parentElement instanceof OverlayTrigger,\n                    'inner content stolen and reparented'\n                ).to.be.false;\n\n                expect(isVisible(outerClickContent)).to.be.true;\n                expect(isVisible(innerClickContent)).to.be.true;\n\n                pressSpace();\n\n                expect(isVisible(outerClickContent)).to.be.true;\n                expect(isVisible(innerClickContent)).to.be.true;\n\n                const innerClose = oneEvent(innerButton, 'sp-closed');\n                pressEscape();\n                await innerClose;\n\n                expect(\n                    innerClickContent.parentElement instanceof OverlayTrigger,\n                    'inner content returned'\n                ).to.be.true;\n                expect(isVisible(outerClickContent)).to.be.true;\n                expect(isVisible(innerClickContent)).to.be.false;\n\n                const outerClose = oneEvent(outerButton, 'sp-closed');\n                pressEscape();\n                await outerClose;\n\n                expect(\n                    outerClickContent.parentElement instanceof OverlayTrigger,\n                    'outer content returned'\n                ).to.be.true;\n                expect(isVisible(outerClickContent)).to.be.false;\n                expect(isVisible(innerClickContent)).to.be.false;\n            });\n\n            it('click closes an open popover', async () => {\n                outerTrigger.type = 'modal';\n                innerTrigger.type = 'modal';\n                const outerOpen = oneEvent(outerButton, 'sp-opened');\n                outerButton.click();\n                await outerOpen;\n\n                expect(\n                    outerClickContent.parentElement instanceof OverlayTrigger,\n                    'outer content stolen and reparented'\n                ).to.be.false;\n\n                const innerOpen = oneEvent(innerButton, 'sp-opened');\n                innerButton.click();\n                await innerOpen;\n\n                expect(\n                    innerClickContent.parentElement instanceof OverlayTrigger,\n                    'inner content stolen and reparented'\n                ).to.be.false;\n\n                expect(isVisible(outerClickContent)).to.be.true;\n                expect(isVisible(innerClickContent)).to.be.true;\n\n                // Test that clicking in the overlay content does not close the overlay\n                // 200ms is slightly more than the overlay animation fade out time (130ms)\n                innerClickContent.click();\n                await aTimeout(200);\n\n                expect(isVisible(outerClickContent)).to.be.true;\n                expect(isVisible(innerClickContent)).to.be.true;\n\n                const innerClose = oneEvent(innerButton, 'sp-closed');\n                document.body.click();\n                await innerClose;\n\n                expect(\n                    innerClickContent.parentElement instanceof OverlayTrigger,\n                    'inner content returned'\n                ).to.be.true;\n                expect(isVisible(outerClickContent)).to.be.true;\n                expect(isVisible(innerClickContent)).to.be.false;\n\n                const outerClose = oneEvent(outerButton, 'sp-closed');\n                document.body.click();\n                await outerClose;\n\n                expect(\n                    outerClickContent.parentElement instanceof OverlayTrigger,\n                    'outer content returned'\n                ).to.be.true;\n                expect(isVisible(outerClickContent)).to.be.false;\n                expect(isVisible(innerClickContent)).to.be.false;\n            });\n\n            it('opens a hover popover', async () => {\n                const root = outerTrigger.shadowRoot\n                    ? outerTrigger.shadowRoot\n                    : outerTrigger;\n                const triggerZone = root.querySelector(\n                    '#trigger'\n                ) as HTMLDivElement;\n\n                expect(triggerZone).to.exist;\n                if (!triggerZone) return;\n\n                expect(outerButton).to.exist;\n                expect(hoverContent).to.exist;\n\n                expect(isVisible(hoverContent)).to.be.false;\n\n                const open = oneEvent(outerTrigger, 'sp-opened');\n                const mouseEnter = new MouseEvent('mouseenter');\n                triggerZone.dispatchEvent(mouseEnter);\n                await open;\n                expect(hoverContent.parentElement).to.not.be.instanceOf(\n                    OverlayTrigger\n                );\n\n                expect(isVisible(hoverContent)).to.be.true;\n\n                const close = oneEvent(outerTrigger, 'sp-closed');\n                const mouseLeave = new MouseEvent('mouseleave');\n                triggerZone.dispatchEvent(mouseLeave);\n                await close;\n                expect(hoverContent.parentElement).to.be.instanceOf(\n                    OverlayTrigger\n                );\n\n                expect(isVisible(hoverContent)).to.be.false;\n            });\n\n            it('closes a hover popover', async () => {\n                const root = outerTrigger.shadowRoot\n                    ? outerTrigger.shadowRoot\n                    : outerTrigger;\n                const triggerZone = root.querySelector(\n                    '#trigger'\n                ) as HTMLDivElement;\n\n                expect(triggerZone).to.exist;\n                if (!triggerZone) return;\n\n                expect(outerButton).to.exist;\n                expect(hoverContent).to.exist;\n\n                expect(\n                    isVisible(hoverContent),\n                    'hoverContent should not be visible'\n                ).to.be.false;\n\n                const mouseEnter = new MouseEvent('mouseenter');\n                const mouseLeave = new MouseEvent('mouseleave');\n                triggerZone.dispatchEvent(mouseEnter);\n                await nextFrame();\n                triggerZone.dispatchEvent(mouseLeave);\n\n                await waitUntil(\n                    () => isVisible(hoverContent) === false,\n                    'hoverContent should still not be visible'\n                );\n            });\n\n            it('dispatches events on open/close', async () => {\n                const opened = oneEvent(outerButton, 'sp-opened');\n                outerButton.click();\n                const openedEvent = await opened;\n\n                expect(isVisible(outerClickContent)).to.be.true;\n                expect(outerTrigger.open).to.equal('click');\n\n                expect(openedEvent.detail.interaction).to.equal('click');\n\n                const closed = oneEvent(outerButton, 'sp-closed');\n                document.body.click();\n                const closedEvent = await closed;\n                expect(outerClickContent.parentElement).to.be.instanceOf(\n                    OverlayTrigger\n                );\n                expect(closedEvent.detail.interaction).to.equal('click');\n\n                expect(isVisible(outerClickContent)).to.be.false;\n            });\n        });\n        describe('System interactions', () => {\n            afterEach(async () => {\n                const triggers = document.querySelectorAll('overlay-trigger');\n                const closes: Promise<CustomEvent<unknown>>[] = [];\n                triggers.forEach((trigger) => {\n                    if (trigger.open) {\n                        const close = oneEvent(trigger, 'sp-closed');\n                        trigger.open = undefined;\n                        closes.push(close);\n                    }\n                });\n                await Promise.all(closes);\n            });\n            it('acquires a `color` and `size` from `sp-theme`', async () => {\n                const el = await fixture<Theme>(html`\n                    <sp-theme color=\"dark\">\n                        <sp-theme color=\"light\">\n                            <overlay-trigger id=\"trigger\" placement=\"top\">\n                                <sp-button\n                                    id=\"outer-button\"\n                                    variant=\"primary\"\n                                    slot=\"trigger\"\n                                >\n                                    Show Popover\n                                </sp-button>\n                                <sp-popover\n                                    id=\"outer-popover\"\n                                    dialog\n                                    slot=\"click-content\"\n                                    direction=\"bottom\"\n                                    tip\n                                    open\n                                >\n                                    Popover content!\n                                </sp-popover>\n                            </overlay-trigger>\n                        </sp-theme>\n                    </sp-theme>\n                `);\n\n                await elementUpdated(el);\n\n                expect(document.querySelector('active-overlay')).to.be.null;\n\n                const button = el.querySelector('sp-button') as Button;\n                const opened = oneEvent(button, 'sp-opened');\n                button.click();\n                await opened;\n\n                await elementUpdated(el);\n\n                const overlay = document.querySelector(\n                    'active-overlay'\n                ) as ActiveOverlay;\n\n                expect(overlay).to.exist;\n                expect(overlay.theme.color).to.not.equal('dark');\n                expect(overlay.theme.color).to.equal('light');\n            });\n            it('manages multiple layers of `type=\"modal\"', async () => {\n                const el = await fixture(html`\n                    <overlay-trigger type=\"modal\" placement=\"none\">\n                        <sp-button slot=\"trigger\" variant=\"accent\">\n                            Toggle Dialog\n                        </sp-button>\n                        <sp-popover dialog slot=\"click-content\">\n                            <overlay-trigger>\n                                <sp-button slot=\"trigger\" variant=\"primary\">\n                                    Toggle Dialog\n                                </sp-button>\n                                <sp-popover dialog slot=\"click-content\">\n                                    <overlay-trigger type=\"modal\">\n                                        <sp-button\n                                            slot=\"trigger\"\n                                            variant=\"secondary\"\n                                        >\n                                            Toggle Dialog\n                                        </sp-button>\n                                        <sp-popover dialog slot=\"click-content\">\n                                            <p>\n                                                When you get this deep, this\n                                                ActiveOverlay should be the only\n                                                one in [slot=\"open\"].\n                                            </p>\n                                            <p>\n                                                All of the rest of the\n                                                ActiveOverlay elements should\n                                                have had their [slot] attribute\n                                                removed.\n                                            </p>\n                                            <p>\n                                                Closing this ActiveOverlay\n                                                should replace them...\n                                            </p>\n                                        </sp-popover>\n                                    </overlay-trigger>\n                                </sp-popover>\n                            </overlay-trigger>\n                        </sp-popover>\n                    </overlay-trigger>\n                `);\n                const overlayTriggers = [\n                    ...el.querySelectorAll('overlay-trigger'),\n                ];\n                let activeOverlays = [\n                    ...document.querySelectorAll('active-overlay'),\n                ];\n                const triggers = [\n                    ...el.querySelectorAll('sp-button[slot=\"trigger\"]'),\n                ] as Button[];\n\n                expect(activeOverlays.length, 'no previous overlays').to.equal(\n                    0\n                );\n\n                let open = oneEvent(triggers[0], 'sp-opened');\n                triggers[0]?.click();\n                await open;\n                await elementUpdated(overlayTriggers[0]);\n                activeOverlays = [\n                    ...document.querySelectorAll('active-overlay'),\n                ];\n                expect(\n                    activeOverlays.length,\n                    'The first `active-overlay` element has been added.'\n                ).to.equal(1);\n                expect(\n                    activeOverlays[0].slot,\n                    'first overlay, first time'\n                ).to.equal('open');\n\n                open = oneEvent(triggers[1], 'sp-opened');\n                triggers[1]?.click();\n                await open;\n                await elementUpdated(overlayTriggers[1]);\n                activeOverlays = [\n                    ...document.querySelectorAll('active-overlay'),\n                ];\n                expect(\n                    activeOverlays.length,\n                    'The second `active-overlay` element has been added.'\n                ).to.equal(2);\n\n                expect(\n                    activeOverlays[0].slot,\n                    'first overlay, second time'\n                ).to.equal('open');\n                expect(\n                    activeOverlays[1].slot,\n                    'second overlay, second time'\n                ).to.equal('open');\n\n                open = oneEvent(triggers[2], 'sp-opened');\n                triggers[2]?.click();\n                await open;\n                await elementUpdated(overlayTriggers[2]);\n                activeOverlays = [\n                    ...document.querySelectorAll('active-overlay'),\n                ];\n                expect(\n                    activeOverlays.length,\n                    'The third `active-overlay` element has been added.'\n                ).to.equal(3);\n\n                expect(\n                    activeOverlays[0].hasAttribute('slot'),\n                    'first overlay, third time'\n                ).to.be.false;\n                expect(\n                    activeOverlays[1].hasAttribute('slot'),\n                    'second overlay, third time'\n                ).to.be.false;\n                expect(\n                    activeOverlays[2].slot,\n                    'third overlay, third time'\n                ).to.equal('open');\n\n                await nextFrame();\n                const closed = oneEvent(triggers[2], 'sp-closed');\n                document.body.click();\n                await closed;\n                await elementUpdated(overlayTriggers[2]);\n                activeOverlays = [\n                    ...document.querySelectorAll('active-overlay'),\n                ];\n                expect(\n                    activeOverlays.length,\n                    'The third `active-overlay` element has been removed.'\n                ).to.equal(2);\n\n                await waitUntil(() => {\n                    return activeOverlays[0].slot === 'open';\n                }, 'first overlay, last time');\n                expect(\n                    activeOverlays[1].slot,\n                    'second overlay, last time'\n                ).to.equal('open');\n            });\n        });\n    });\n};\n"],
  "mappings": "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",
  "names": []
}
