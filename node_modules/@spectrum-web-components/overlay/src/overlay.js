"use strict";import{OverlayStack as y}from"./overlay-stack.js";const n=class{constructor(e,t,r){this.isOpen=!1;this.owner=e,this.overlayElement=r,this.interaction=t}static async open(e,t,r,o){const a=new n(e,t,r);return await a.open(o),()=>{a.close()}}static update(){const e=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(e)}async open({abortPromise:e,delayed:t,offset:r=0,placement:o="top",receivesFocus:a,notImmediatelyClosable:l,virtualTrigger:c,root:u}){if(this.isOpen)return!0;t===void 0&&(t=this.overlayElement.hasAttribute("delayed"));const s={color:void 0,scale:void 0,lang:void 0,theme:void 0},p=new CustomEvent("sp-query-theme",{bubbles:!0,composed:!0,detail:s,cancelable:!0});this.owner.dispatchEvent(p);const i={},m=new CustomEvent("sp-overlay-query",{bubbles:!0,composed:!0,detail:i,cancelable:!0});return this.overlayElement.dispatchEvent(m),await n.overlayStack.openOverlay({abortPromise:e,content:this.overlayElement,contentTip:i.overlayContentTipElement,delayed:t,offset:r,placement:o,trigger:this.owner,interaction:this.interaction,theme:s,receivesFocus:a,root:u,notImmediatelyClosable:l,virtualTrigger:c,...i}),this.isOpen=!0,!0}close(){n.overlayStack.closeOverlay(this.overlayElement)}};export let Overlay=n;Overlay.overlayStack=new y;
//# sourceMappingURL=overlay.js.map
