"use strict";var n=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var c=(i,s,e,l)=>{for(var t=l>1?void 0:l?h(s,e):s,o=i.length-1,a;o>=0;o--)(a=i[o])&&(t=(l?a(s,e,t):a(t))||t);return l&&t&&n(s,e,t),t};import{html as d,SpectrumElement as p}from"@spectrum-web-components/base";import{property as r,queryAssignedElements as m}from"@spectrum-web-components/base/src/decorators.js";import u from"./table-row.css.js";export class TableRow extends p{constructor(){super(...arguments);this.role="row";this.selectable=!1;this.selected=!1;this.value=""}static get styles(){return[u]}async handleChange(e){this.selected=e.target.checkbox.checked,await 0,e.defaultPrevented&&(this.selected=!this.selected)}handleSlotchange({target:e}){const l=e.assignedElements();this.selectable=!!l.find(t=>t.localName==="sp-table-checkbox-cell")}manageSelected(){const[e]=this.checkboxCells;!e||(e.checked=this.selected)}handleClick(e){if(e.composedPath().find(t=>t.localName==="sp-checkbox"))return;const[l]=this.checkboxCells;!l||l.click()}render(){return d`
            <slot
                @change=${this.handleChange}
                @slotchange=${this.handleSlotchange}
            ></slot>
        `}willUpdate(e){e.has("selected")&&this.manageSelected(),e.has("selectable")&&(this.selectable?this.addEventListener("click",this.handleClick):this.removeEventListener("click",this.handleClick))}}c([m({selector:"sp-table-checkbox-cell",flatten:!0})],TableRow.prototype,"checkboxCells",2),c([r({reflect:!0})],TableRow.prototype,"role",2),c([r({type:Boolean})],TableRow.prototype,"selectable",2),c([r({type:Boolean,reflect:!0})],TableRow.prototype,"selected",2),c([r({type:String})],TableRow.prototype,"value",2);
//# sourceMappingURL=TableRow.js.map
