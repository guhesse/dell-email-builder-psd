{
  "version": 3,
  "sources": ["Table.ts"],
  "sourcesContent": ["/*\nCopyright 2022 Adobe. All rights reserved.\nThis file is licensed to you under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License. You may obtain a copy\nof the License at http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software distributed under\nthe License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\nOF ANY KIND, either express or implied. See the License for the specific language\ngoverning permissions and limitations under the License.\n*/\n\nimport {\n    CSSResultArray,\n    html,\n    PropertyValues,\n    render,\n    SizedMixin,\n    SpectrumElement,\n    TemplateResult,\n} from '@spectrum-web-components/base';\nimport '../sp-table-row.dev.js'\nimport '../sp-table-checkbox-cell.dev.js'\nimport '../sp-table-body.dev.js'\nimport { property } from '@spectrum-web-components/base/src/decorators.js';\nimport styles from './table.css.js';\nimport { TableBody } from './TableBody.dev.js'\nimport type { TableCheckboxCell } from './TableCheckboxCell.dev.js'\nimport type { TableHead } from './TableHead.dev.js'\nimport type { TableHeadCell } from './TableHeadCell.dev.js'\nimport type { TableRow } from './TableRow.dev.js'\nimport {\n    virtualize,\n    VirtualizeDirectiveConfig,\n    virtualizerRef,\n} from '@lit-labs/virtualizer/virtualize.js';\nimport { Virtualizer } from '@lit-labs/virtualizer/Virtualizer.js';\n\ninterface Range {\n    first: number;\n    last: number;\n}\n\nexport enum RowType {\n    ITEM = 0,\n    INFORMATION = 1,\n}\n\nexport interface TableItem extends Record<string, unknown> {\n    _$rowType$?: RowType;\n}\n\nexport class RangeChangedEvent extends Event {\n    static eventName = 'rangeChanged';\n\n    first: number;\n    last: number;\n\n    constructor(range: Range) {\n        super(RangeChangedEvent.eventName, { bubbles: true });\n        this.first = range.first;\n        this.last = range.last;\n    }\n}\n\n/**\n * @element sp-table\n *\n * @fires rangeChanged - Announces a change in the range of visible cells on the table body\n * @event change - Announces a change in the `selected` property of a table row\n */\n\nexport class Table extends SizedMixin(SpectrumElement, {\n    validSizes: ['s', 'm'],\n    defaultSize: 'm',\n}) {\n    public static override get styles(): CSSResultArray {\n        return [styles];\n    }\n\n    get renderItem(): (\n        item: Record<string, unknown>,\n        index: number\n    ) => TemplateResult {\n        return this._renderItem;\n    }\n\n    set renderItem(\n        fn: (item: Record<string, unknown>, index: number) => TemplateResult\n    ) {\n        this._renderItem = (\n            item: Record<string, unknown>,\n            index: number\n        ): TemplateResult => {\n            const value = this.itemValue(item, index);\n            const selected = this.selected.includes(value);\n            const hasCheckbox = this.selects && item?._$rowType$ !== 1;\n\n            return html`\n                <sp-table-row\n                    value=${value}\n                    aria-rowindex=${index + 1}\n                    ?selected=${selected}\n                >\n                    ${hasCheckbox\n                        ? html`\n                              <sp-table-checkbox-cell\n                                  ?checked=${selected}\n                              ></sp-table-checkbox-cell>\n                          `\n                        : html``}\n                    ${fn(item, index)}\n                </sp-table-row>\n            `;\n        };\n    }\n\n    private _renderItem: (\n        item: Record<string, unknown>,\n        index: number\n    ) => TemplateResult = /* c8 ignore next */ () => html``;\n\n    @property({ reflect: true })\n    public role = 'grid';\n\n    /**\n     * Whether the Table allows users to select a row or rows, and thus controls whether or not the Table also renders checkboxes.\n     */\n    @property({ type: String, reflect: true })\n    public selects: undefined | 'single' | 'multiple';\n\n    /**\n     * An array of <sp-row> values that have been selected.\n     */\n    @property({ type: Array })\n    public selected: string[] = [];\n\n    private selectedSet = new Set<string>();\n\n    /**\n     * The content of the rows rendered by the virtualized table. The key is the value of the sp-table-row, and the value is the sp-table-row's content (not the row itself).\n     */\n    @property({ type: Array })\n    public items: Record<string, unknown>[] = [];\n\n    /**\n     * The value of an item. By default, it is set to the index of the sp-table-row.\n     */\n    @property({ type: Object })\n    public itemValue = (_item: unknown, index: number): string => {\n        return `${index}`;\n    };\n\n    /**\n     * Whether or not the virtualized table has a scroll bar. If this is set to true, make sure to specify a height in the sp-table's inline styles.\n     */\n    @property({ type: Boolean, reflect: true })\n    public scroller = false;\n\n    private tableBody?: TableBody;\n\n    private tableHeadCheckboxCell?: TableCheckboxCell;\n\n    private get tableHead(): TableHead {\n        return this.querySelector('sp-table-head') as TableHead;\n    }\n\n    private get tableRows(): TableRow[] {\n        if (this.isVirtualized) {\n            return [];\n        }\n        return [...this.querySelectorAll('sp-table-row')] as TableRow[];\n    }\n\n    private get isVirtualized(): boolean {\n        return !!this.items.length;\n    }\n\n    public override focus(): void {\n        const sortableHeadCell = this.querySelector(\n            'sp-table-head-cell[sortable]'\n        ) as TableHeadCell;\n        if (sortableHeadCell) {\n            sortableHeadCell.focus();\n        }\n    }\n\n    private selectAllRows(): void {\n        if (this.isVirtualized) {\n            this.items.forEach((item, index: number) => {\n                if (item._$rowType$ !== 1) {\n                    this.selectedSet.add(this.itemValue(item, index));\n                }\n            });\n        } else {\n            this.tableRows.forEach((row) => {\n                row.selected = true; // Visually\n                this.selectedSet.add(row.value); // Prepares table state\n            });\n        }\n        this.selected = [...this.selectedSet];\n\n        if (!this.tableHeadCheckboxCell) /* c8 ignore next */ return;\n        this.tableHeadCheckboxCell.checked = true;\n        this.tableHeadCheckboxCell.indeterminate = false;\n    }\n\n    private deselectAllRows(): void {\n        this.selectedSet.clear();\n        this.selected = [];\n\n        if (!this.isVirtualized) {\n            const selectedRows = [\n                ...this.querySelectorAll('[selected]'),\n            ] as TableRow[];\n\n            selectedRows.forEach((row) => {\n                row.selected = false;\n            });\n        }\n\n        if (!this.tableHeadCheckboxCell) /* c8 ignore next */ return;\n        this.tableHeadCheckboxCell.checked = false;\n        this.tableHeadCheckboxCell.indeterminate = false;\n    }\n\n    protected manageSelects(): void {\n        const checkboxes = this.querySelectorAll('sp-table-checkbox-cell');\n        const checkbox = document.createElement('sp-table-checkbox-cell');\n        if (!!this.selects) {\n            let allSelected = false;\n            if (this.isVirtualized) {\n                allSelected =\n                    this.selected.length > 0 &&\n                    this.selected.length === this.items.length;\n            } else {\n                this.tableRows.forEach((row) => {\n                    row.selected = this.selectedSet.has(row.value);\n                    if (!row.querySelector(':scope > sp-table-checkbox-cell')) {\n                        const clonedCheckbox =\n                            checkbox.cloneNode() as TableCheckboxCell;\n                        row.insertAdjacentElement('afterbegin', clonedCheckbox);\n                        checkbox.checked = row.selected;\n                    }\n                });\n                allSelected = this.selected.length === this.tableRows.length;\n            }\n\n            if (!this.tableHeadCheckboxCell) {\n                this.tableHeadCheckboxCell = document.createElement(\n                    'sp-table-checkbox-cell'\n                ) as TableCheckboxCell;\n                this.tableHead.insertAdjacentElement(\n                    'afterbegin',\n                    this.tableHeadCheckboxCell\n                );\n            }\n            this.manageHeadCheckbox(allSelected);\n        } else {\n            checkboxes.forEach((box) => {\n                box.remove();\n            });\n            delete this.tableHeadCheckboxCell;\n        }\n    }\n\n    protected validateSelected(): void {\n        const rowValues = new Set<string>();\n\n        if (this.isVirtualized) {\n            this.items.forEach((item, index) => {\n                const value = this.itemValue(item, index);\n                rowValues.add(value);\n            });\n        } else {\n            this.tableRows.forEach((row) => {\n                rowValues.add(row.value);\n            });\n        }\n\n        const oldSelectedCount = this.selected.length;\n\n        this.selected = this.selected.filter((selectedItem) =>\n            rowValues.has(selectedItem)\n        );\n        if (oldSelectedCount !== this.selected.length) {\n            this.dispatchEvent(\n                new Event('change', {\n                    cancelable: true,\n                    bubbles: true,\n                    composed: true,\n                })\n            );\n        }\n        this.selectedSet = new Set(this.selected);\n    }\n\n    protected manageSelected(): void {\n        this.validateSelected();\n\n        if (this.isVirtualized) return;\n\n        this.tableRows.forEach((row) => {\n            row.selected = this.selectedSet.has(row.value);\n        });\n        if (this.tableHeadCheckboxCell) {\n            this.tableHeadCheckboxCell.checked =\n                this.selected.length === this.tableRows.length;\n        }\n    }\n\n    protected manageCheckboxes(): void {\n        if (!!this.selects) {\n            this.tableHeadCheckboxCell = document.createElement(\n                'sp-table-checkbox-cell'\n            );\n            const allSelected = this.selected.length === this.tableRows.length;\n\n            this.manageHeadCheckbox(allSelected);\n\n            this.tableHead.insertAdjacentElement(\n                'afterbegin',\n                this.tableHeadCheckboxCell\n            );\n\n            this.tableRows.forEach((row) => {\n                const checkbox = document.createElement(\n                    'sp-table-checkbox-cell'\n                );\n                row.insertAdjacentElement('afterbegin', checkbox);\n                row.selected = this.selectedSet.has(row.value);\n                checkbox.checked = row.selected;\n            });\n        } else {\n            this.tableHead.querySelector('sp-table-checkbox-cell')?.remove();\n            this.tableRows.forEach((row) => {\n                row.checkboxCells[0]?.remove();\n                if (this.selected.length) {\n                    row.selected = this.selectedSet.has(row.value);\n                }\n            });\n        }\n    }\n\n    protected manageHeadCheckbox(allSelected: boolean): void {\n        if (!this.tableHeadCheckboxCell) /* c8 ignore next */ return;\n\n        this.tableHeadCheckboxCell.selectsSingle = this.selects === 'single';\n        this.tableHeadCheckboxCell.checked = allSelected;\n        this.tableHeadCheckboxCell.indeterminate =\n            this.selected.length > 0 && !allSelected;\n    }\n\n    protected handleChange(event: Event): void {\n        event.stopPropagation();\n\n        const previousSelectedSet = new Set(this.selectedSet);\n        const previousSelected = [...this.selected];\n\n        const { target } = event;\n        const { parentElement: rowItem } = target as HTMLElement & {\n            parentElement: TableRow;\n        };\n        if (!rowItem.value) {\n            const { checkbox } = target as TableCheckboxCell;\n            if (checkbox.checked || checkbox.indeterminate) {\n                this.selectAllRows();\n            } else {\n                this.deselectAllRows();\n            }\n        } else {\n            switch (this.selects) {\n                case 'single': {\n                    this.deselectAllRows();\n                    if (rowItem.selected) {\n                        this.selectedSet.add(rowItem.value);\n                        this.selected = [...this.selectedSet];\n                    }\n                    break;\n                }\n                case 'multiple': {\n                    if (rowItem.selected) {\n                        this.selectedSet.add(rowItem.value);\n                    } else {\n                        this.selectedSet.delete(rowItem.value);\n                    }\n                    this.selected = [...this.selectedSet];\n\n                    const allSelected =\n                        this.selected.length === this.tableRows.length;\n\n                    if (!this.tableHeadCheckboxCell)\n                        /* c8 ignore next */ return;\n                    this.tableHeadCheckboxCell.checked = allSelected;\n                    this.tableHeadCheckboxCell.indeterminate =\n                        this.selected.length > 0 && !allSelected;\n                    break;\n                }\n                default: {\n                    break;\n                }\n            }\n        }\n        const applyDefault = this.dispatchEvent(\n            new Event('change', {\n                cancelable: true,\n                bubbles: true,\n                composed: true,\n            })\n        );\n        if (!applyDefault) {\n            event.preventDefault();\n            this.selectedSet = previousSelectedSet;\n            this.selected = previousSelected;\n        }\n    }\n\n    public scrollToIndex(index?: number): void {\n        if (index && !!this.tableBody) {\n            const virtualizerParent = this.tableBody as unknown as {\n                [virtualizerRef]: Virtualizer;\n            };\n            const item = virtualizerParent[virtualizerRef].element(index);\n            if (item) {\n                item.scrollIntoView();\n            }\n        }\n    }\n\n    protected override render(): TemplateResult {\n        return html`\n            <slot @change=${this.handleChange}></slot>\n        `;\n    }\n\n    protected override willUpdate(changed: PropertyValues<this>): void {\n        if (!this.hasUpdated) {\n            this.validateSelected();\n            this.manageCheckboxes();\n        }\n        if (changed.has('selects')) {\n            this.manageSelects();\n        }\n\n        if (changed.has('selected') && this.hasUpdated) {\n            this.manageSelected();\n        }\n    }\n\n    protected override updated(): void {\n        if (this.items.length) {\n            this.renderVirtualizedItems();\n        }\n    }\n\n    protected renderVirtualizedItems(): void {\n        // Rendering updates into the table while disconnected can\n        // cause runaway event binding in ancestor elements.\n        if (!this.isConnected) return;\n        if (!this.tableBody) {\n            this.tableBody = this.querySelector('sp-table-body') as TableBody;\n            if (!this.tableBody) {\n                this.tableBody = document.createElement('sp-table-body');\n                this.append(this.tableBody);\n            }\n            this.tableBody.addEventListener(\n                'rangeChanged',\n                (event: RangeChangedEvent) => {\n                    this.dispatchEvent(\n                        new RangeChangedEvent({\n                            first: event.first,\n                            last: event.last,\n                        })\n                    );\n                }\n            );\n        }\n        const config: VirtualizeDirectiveConfig<Record<string, unknown>> = {\n            items: this.items,\n            renderItem: this.renderItem,\n            scroller: this.scroller,\n        };\n        render(\n            html`\n                ${virtualize(config)}\n            `,\n            this.tableBody\n        );\n    }\n\n    public override disconnectedCallback(): void {\n        super.disconnectedCallback();\n    }\n}\n"],
  "mappings": "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",
  "names": ["RowType", "_a"]
}
